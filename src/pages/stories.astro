---
import App from '@components/App.astro'
import Footer from '@components/base/Footer.astro'
import Header from '@components/base/Header.astro'
import List from '@components/notebook/List.astro'
import { navs } from '@libs/consts'

import { getCollection } from 'astro:content'
const stories = (await getCollection('专题'))
  .map(({ data }) => data)
  .filter(({ draft }) => import.meta.env.DEV || !draft)
  .sort((a, b) => b.date.created.getTime() - a.date.created.getTime())
---

<App scope="记录干杯" name="专题">
  <Header slot="header" action="更多" links={navs} />
  <Footer slot="footer" />
  <List type="专题" suffix="个专题" contents={stories} />
</App>
